{"code":"(this[\"webpackJsonpassignment-frontend\"]=this[\"webpackJsonpassignment-frontend\"]||[]).push([[0],{54:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){\"use strict\";n.r(t);var o=n(0),a=n(29),i=n.n(a),c=n(17),r=n(18),s=n(31),l=n(30),u=n(38),d=n(3),j=n(40),h=n(35),b=n.n(h),f=new(function(){function e(){Object(c.a)(this,e);var t=this.validateTokenId();this.userData=t.user}return Object(r.a)(e,[{key:\"validateTokenId\",value:function(){var e=sessionStorage.getItem(\"token\");if(null!==e){var t=b()(e);return Math.round(1e3*t.exp-(new Date).getTime()-3e4)<0?(sessionStorage.removeItem(\"token\"),!1):t}return!1}},{key:\"logout\",value:function(){sessionStorage.removeItem(\"token\")}}]),e}()),m=(n(54),n(9)),O=Object(o.lazy)((function(){return Promise.all([n.e(2),n.e(5)]).then(n.bind(null,332))})),v=Object(o.lazy)((function(){return n.e(4).then(n.bind(null,333))})),p=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={loaded:!1},o}return Object(r.a)(n,[{key:\"componentWillMount\",value:function(){(Object(j.a)(),\"/login\"!==window.location.pathname)?!1===f.validateTokenId()?window.location.href=\"/login\":this.setState({loaded:!0}):this.setState({loaded:!0})}},{key:\"render\",value:function(){return this.state.loaded?Object(m.jsx)(u.a,{children:Object(m.jsx)(o.Suspense,{fallback:Object(m.jsx)(\"div\",{children:\"Loading...\"}),children:Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:\"/login\",component:v}),Object(m.jsx)(d.a,{path:\"/home\",component:O})]})})}):Object(m.jsx)(\"p\",{children:\"Loading...\"})}}]),n}(o.Component);n(60);i.a.render(Object(m.jsx)(p,{}),document.getElementById(\"root\"))}},[[61,1,3]]]);","name":"static/js/main.04adb550.chunk.js","map":{"version":3,"sources":["static/js/main.04adb550.chunk.js"],"names":["this","push","54","module","exports","__webpack_require__","60","61","__webpack_exports__","r","react","react_dom","react_dom_default","n","classCallCheck","createClass","inherits","createSuper","react_router_dom","react_router","lib","jwt_decode_lib","lib_default","Authentication_Service","AuthenticationService","Object","getUserDetails","validateTokenId","userData","user","key","value","token","sessionStorage","getItem","jwtDecoded","Math","round","exp","Date","getTime","removeItem","jsx_runtime","HomeComponent","Promise","all","e","then","bind","LoginComponent","router","_Component","App","_super","props","_this","call","state","loaded","window","location","pathname","href","setState","children","fallback","path","component","a","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpassignment-frontend\"] = this[\"webpackJsonpassignment-frontend\"] || []).push([[0],{\n\n/***/ 54:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(29);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js + 1 modules\nvar inherits = __webpack_require__(31);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js + 4 modules\nvar createSuper = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@uifabric/icons/lib/index.js + 21 modules\nvar lib = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(35);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/services/Authentication.Service.js\nvar Authentication_Service_AuthenticationService=/*#__PURE__*/function(){function AuthenticationService(){Object(classCallCheck[\"a\" /* default */])(this,AuthenticationService);var getUserDetails=this.validateTokenId();this.userData=getUserDetails.user;}Object(createClass[\"a\" /* default */])(AuthenticationService,[{key:\"validateTokenId\",value:function validateTokenId(){var token=sessionStorage.getItem('token');if(token!==null){var jwtDecoded=lib_default()(token);var milis2renewal=Math.round(jwtDecoded.exp*1000-new Date().getTime()-30000);if(milis2renewal<0){sessionStorage.removeItem('token');return false;}return jwtDecoded;}return false;}},{key:\"logout\",value:function logout(){sessionStorage.removeItem('token');}}]);return AuthenticationService;}();/* harmony default export */ var Authentication_Service = (new Authentication_Service_AuthenticationService());\n// CONCATENATED MODULE: ./src/services/index.js\n\n// EXTERNAL MODULE: ./src/assets/css/style.css\nvar style = __webpack_require__(54);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(9);\n\n// CONCATENATED MODULE: ./src/router.js\nvar HomeComponent=/*#__PURE__*/Object(react[\"lazy\"])(function(){return Promise.all(/* import() */[__webpack_require__.e(2), __webpack_require__.e(5)]).then(__webpack_require__.bind(null, 332));});var LoginComponent=/*#__PURE__*/Object(react[\"lazy\"])(function(){return __webpack_require__.e(/* import() */ 4).then(__webpack_require__.bind(null, 333));});var router_App=/*#__PURE__*/function(_Component){Object(inherits[\"a\" /* default */])(App,_Component);var _super=Object(createSuper[\"a\" /* default */])(App);function App(props){var _this;Object(classCallCheck[\"a\" /* default */])(this,App);_this=_super.call(this,props);_this.state={loaded:false};return _this;}Object(createClass[\"a\" /* default */])(App,[{key:\"componentWillMount\",value:function componentWillMount(){Object(lib[\"a\" /* initializeIcons */])();if(window.location.pathname==='/login'){this.setState({loaded:true});return;}var validToken=Authentication_Service.validateTokenId();if(validToken===false){window.location.href='/login';}else{this.setState({loaded:true});}}},{key:\"render\",value:function render(){if(!this.state.loaded){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Loading...\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react[\"Suspense\"],{fallback:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"}),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/login\",component:LoginComponent}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/home\",component:HomeComponent})]})})});}}]);return App;}(react[\"Component\"]);/* harmony default export */ var router = (router_App);\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(60);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(router,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[61,1,3]]]);","inputSourceMap":{"version":3,"sources":["D:\\personalWork\\assignment-frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\personalWork\\assignment-frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\personalWork\\assignment-frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\personalWork\\assignment-frontend\\src\\assets\\css\\style.css","D:\\personalWork\\assignment-frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!D:\\personalWork\\assignment-frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!D:\\personalWork\\assignment-frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\personalWork\\assignment-frontend\\src\\index.css","D:/personalWork/assignment-frontend/src/services/Authentication.Service.js","D:/personalWork/assignment-frontend/src/router.js","D:/personalWork/assignment-frontend/src/index.js"],"names":["AuthenticationService","getUserDetails","validateTokenId","userData","user","token","sessionStorage","getItem","jwtDecoded","jwtDecode","milis2renewal","Math","round","exp","Date","getTime","removeItem","HomeComponent","lazy","LoginComponent","App","props","state","loaded","initializeIcons","window","location","pathname","setState","validToken","href","Component","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GCCMA,6C,yBACF,gCAAc,CAAC,sEACX,GAAIC,eAAc,CAAG,KAAKC,eAAL,EAArB,CACA,KAAKC,QAAL,CAAgBF,cAAc,CAACG,IAA/B,CACH,C,2FAED,0BAAkB,CACd,GAAIC,MAAK,CAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CACA,GAAIF,KAAK,GAAK,IAAd,CAAoB,CAChB,GAAMG,WAAU,CAAGC,aAAS,CAACJ,KAAD,CAA5B,CACA,GAAMK,cAAa,CAAGC,IAAI,CAACC,KAAL,CAAWJ,UAAU,CAACK,GAAX,CAAiB,IAAjB,CAAyB,GAAIC,KAAJ,EAAD,CAAaC,OAAb,EAAxB,CAAiD,KAA5D,CAAtB,CACA,GAAIL,aAAa,CAAG,CAApB,CAAuB,CACnBJ,cAAc,CAACU,UAAf,CAA0B,OAA1B,EACA,MAAO,MAAP,CACH,CACD,MAAOR,WAAP,CACH,CACD,MAAO,MAAP,CACH,C,sBAED,iBAAS,CACLF,cAAc,CAACU,UAAf,CAA0B,OAA1B,EACH,C,qCAIU,8DAAIhB,6CAAJ,EAAf,E;;;;;;;;;;ACtBA,GAAMiB,cAAa,cAAGC,qBAAI,CAAC,iBAAM,0HAAN,EAAD,CAA1B,CACA,GAAMC,eAAc,cAAGD,qBAAI,CAAC,iBAAM,kFAAN,EAAD,CAA3B,C,GAGME,W,8IACF,aAAYC,KAAZ,CAAmB,+DACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,MAAM,CAAE,KADG,CAAb,CAFe,aAKhB,C,4EACD,6BAAqB,CACnBC,sCAAe,GACb,GAAIC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,QAAjC,CAA2C,CACzC,KAAKC,QAAL,CAAc,CACZL,MAAM,CAAE,IADI,CAAd,EAGA,OACD,CACD,GAAIM,WAAU,CAAG7B,sBAAqB,CAACE,eAAtB,EAAjB,CACA,GAAI2B,UAAU,GAAK,KAAnB,CAA0B,CACxBJ,MAAM,CAACC,QAAP,CAAgBI,IAAhB,CAAuB,QAAvB,CACD,CAFD,IAEO,CACL,KAAKF,QAAL,CAAc,CACZL,MAAM,CAAE,IADI,CAAd,EAGD,CACJ,C,sBACD,iBAAS,CACP,GAAI,CAAC,KAAKD,KAAL,CAAWC,MAAhB,CAAwB,CACtB,mBAAQ,uDAAR,CACD,CACD,mBACE,2BAAC,yCAAD,wBACE,2BAAC,iBAAD,EAAU,QAAQ,cAAE,yDAApB,uBACE,4BAAC,8BAAD,yBACE,2BAAC,6BAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAEJ,cAAhC,EADF,cAEE,2BAAC,6BAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEF,aAA/B,EAFF,GADF,EADF,EADF,CAUD,C,iBAtCWc,kB,EAyCHX,qDAAf,E;;;;;AC7CAY,mBAAQ,CAACC,MAAT,cAAgB,2BAAC,MAAD,IAAhB,CAA4BC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAA5B,E","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import jwtDecode from 'jwt-decode';\r\nclass AuthenticationService {\r\n    constructor() {\r\n        let getUserDetails = this.validateTokenId()\r\n        this.userData = getUserDetails.user\r\n    }\r\n\r\n    validateTokenId() {\r\n        let token = sessionStorage.getItem('token');\r\n        if (token !== null) {\r\n            const jwtDecoded = jwtDecode(token);\r\n            const milis2renewal = Math.round(jwtDecoded.exp * 1000 - (new Date()).getTime() - 30000);\r\n            if (milis2renewal < 0) {\r\n                sessionStorage.removeItem('token')\r\n                return false;\r\n            }\r\n            return jwtDecoded;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    logout() {\r\n        sessionStorage.removeItem('token')\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthenticationService();\r\n\r\n","import React, { Suspense, Component, lazy } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { initializeIcons } from '@uifabric/icons';\r\nimport { AuthenticationService } from \"./services\";\r\nimport './assets/css/style.css';\r\nconst HomeComponent = lazy(() => import('./HomeComponent/index'));\r\nconst LoginComponent = lazy(() => import('./Login/login'));\r\n\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          loaded: false\r\n        }\r\n      }\r\n      componentWillMount() {\r\n        initializeIcons();\r\n          if (window.location.pathname === '/login') {\r\n            this.setState({\r\n              loaded: true\r\n            })\r\n            return\r\n          }\r\n          let validToken = AuthenticationService.validateTokenId();\r\n          if (validToken === false) {\r\n            window.location.href = '/login'\r\n          } else {\r\n            this.setState({\r\n              loaded: true\r\n            })\r\n          }\r\n      }\r\n      render() {\r\n        if (!this.state.loaded) {\r\n          return (<p>Loading...</p>)\r\n        }\r\n        return (\r\n          <Router>\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n              <Switch>\r\n                <Route path=\"/login\" component={LoginComponent} />\r\n                <Route path=\"/home\" component={HomeComponent} />\r\n              </Switch>\r\n            </Suspense>\r\n          </Router>\r\n        );\r\n      }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from './router';\nimport './index.css';\n\nReactDOM.render(<Router />, document.getElementById('root'));"]}}