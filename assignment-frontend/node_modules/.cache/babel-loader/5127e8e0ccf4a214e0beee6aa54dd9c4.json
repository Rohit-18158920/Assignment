{"ast":null,"code":"var _jsxFileName = \"D:\\\\personalWork\\\\assignment-frontend\\\\src\\\\router.js\";\nimport React, { Suspense, Component, lazy } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { initializeIcons } from '@uifabric/icons';\nimport { AuthenticationService } from \"./services\";\nimport './assets/css/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomeComponent = /*#__PURE__*/lazy(_c = () => import('./HomeComponent/index'));\n_c2 = HomeComponent;\nconst LoginComponent = /*#__PURE__*/lazy(_c3 = () => import('./Login/login'));\n_c4 = LoginComponent;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loaded: false\n    };\n  }\n\n  componentWillMount() {\n    initializeIcons();\n\n    if (window.location.pathname === '/login') {\n      this.setState({\n        loaded: true\n      });\n      return;\n    }\n\n    let validToken = AuthenticationService.validateTokenId();\n\n    if (validToken === false) {\n      window.location.href = '/login';\n    } else {\n      this.setState({\n        loaded: true\n      });\n    }\n  }\n\n  render() {\n    if (!this.state.loaded) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 19\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(Suspense, {\n        fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 33\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/login\",\n            component: LoginComponent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/home\",\n            component: HomeComponent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default App;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"HomeComponent$lazy\");\n$RefreshReg$(_c2, \"HomeComponent\");\n$RefreshReg$(_c3, \"LoginComponent$lazy\");\n$RefreshReg$(_c4, \"LoginComponent\");","map":{"version":3,"sources":["D:/personalWork/assignment-frontend/src/router.js"],"names":["React","Suspense","Component","lazy","BrowserRouter","Router","Route","Switch","initializeIcons","AuthenticationService","HomeComponent","LoginComponent","App","constructor","props","state","loaded","componentWillMount","window","location","pathname","setState","validToken","validateTokenId","href","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,IAArC,QAAiD,OAAjD;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,QAAuD,kBAAvD;AACA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,qBAAT,QAAsC,YAAtC;AACA,OAAO,wBAAP;;AACA,MAAMC,aAAa,gBAAGP,IAAI,MAAC,MAAM,OAAO,uBAAP,CAAP,CAA1B;MAAMO,a;AACN,MAAMC,cAAc,gBAAGR,IAAI,OAAC,MAAM,OAAO,eAAP,CAAP,CAA3B;MAAMQ,c;;AAGN,MAAMC,GAAN,SAAkBV,SAAlB,CAA4B;AACxBW,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AACDC,EAAAA,kBAAkB,GAAG;AACnBT,IAAAA,eAAe;;AACb,QAAIU,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,QAAjC,EAA2C;AACzC,WAAKC,QAAL,CAAc;AACZL,QAAAA,MAAM,EAAE;AADI,OAAd;AAGA;AACD;;AACD,QAAIM,UAAU,GAAGb,qBAAqB,CAACc,eAAtB,EAAjB;;AACA,QAAID,UAAU,KAAK,KAAnB,EAA0B;AACxBJ,MAAAA,MAAM,CAACC,QAAP,CAAgBK,IAAhB,GAAuB,QAAvB;AACD,KAFD,MAEO;AACL,WAAKH,QAAL,CAAc;AACZL,QAAAA,MAAM,EAAE;AADI,OAAd;AAGD;AACJ;;AACDS,EAAAA,MAAM,GAAG;AACP,QAAI,CAAC,KAAKV,KAAL,CAAWC,MAAhB,EAAwB;AACtB,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAR;AACD;;AACD,wBACE,QAAC,MAAD;AAAA,6BACE,QAAC,QAAD;AAAU,QAAA,QAAQ,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAApB;AAAA,+BACE,QAAC,MAAD;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,SAAS,EAAEL;AAAhC;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,SAAS,EAAED;AAA/B;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAUD;;AAtCqB;;AAyC5B,eAAeE,GAAf","sourcesContent":["import React, { Suspense, Component, lazy } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport { initializeIcons } from '@uifabric/icons';\r\nimport { AuthenticationService } from \"./services\";\r\nimport './assets/css/style.css';\r\nconst HomeComponent = lazy(() => import('./HomeComponent/index'));\r\nconst LoginComponent = lazy(() => import('./Login/login'));\r\n\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n          loaded: false\r\n        }\r\n      }\r\n      componentWillMount() {\r\n        initializeIcons();\r\n          if (window.location.pathname === '/login') {\r\n            this.setState({\r\n              loaded: true\r\n            })\r\n            return\r\n          }\r\n          let validToken = AuthenticationService.validateTokenId();\r\n          if (validToken === false) {\r\n            window.location.href = '/login'\r\n          } else {\r\n            this.setState({\r\n              loaded: true\r\n            })\r\n          }\r\n      }\r\n      render() {\r\n        if (!this.state.loaded) {\r\n          return (<p>Loading...</p>)\r\n        }\r\n        return (\r\n          <Router>\r\n            <Suspense fallback={<div>Loading...</div>}>\r\n              <Switch>\r\n                <Route path=\"/login\" component={LoginComponent} />\r\n                <Route path=\"/home\" component={HomeComponent} />\r\n              </Switch>\r\n            </Suspense>\r\n          </Router>\r\n        );\r\n      }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}