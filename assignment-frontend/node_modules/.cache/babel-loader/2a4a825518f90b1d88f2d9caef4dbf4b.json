{"ast":null,"code":"import { __extends } from \"tslib\";\nimport * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\nimport { mergeCustomizations } from './mergeCustomizations';\n/**\n * The Customizer component allows for default props to be mixed into components which\n * are decorated with the customizable() decorator, or use the styled HOC. This enables\n * injection scenarios like:\n *\n * 1. render svg icons instead of the icon font within all buttons\n * 2. inject a custom theme object into a component\n *\n * Props are provided via the settings prop which should be one of the following:\n * - A json map which contains 1 or more name/value pairs representing injectable props.\n * - A function that receives the current settings and returns the new ones that apply to the scope\n *\n * @public\n */\n\nvar Customizer =\n/** @class */\nfunction (_super) {\n  __extends(Customizer, _super);\n\n  function Customizer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._onCustomizationChange = function () {\n      return _this.forceUpdate();\n    };\n\n    return _this;\n  }\n\n  Customizer.prototype.componentDidMount = function () {\n    Customizations.observe(this._onCustomizationChange);\n  };\n\n  Customizer.prototype.componentWillUnmount = function () {\n    Customizations.unobserve(this._onCustomizationChange);\n  };\n\n  Customizer.prototype.render = function () {\n    var _this = this;\n\n    var contextTransform = this.props.contextTransform;\n    return React.createElement(CustomizerContext.Consumer, null, function (parentContext) {\n      var newContext = mergeCustomizations(_this.props, parentContext);\n\n      if (contextTransform) {\n        newContext = contextTransform(newContext);\n      }\n\n      return React.createElement(CustomizerContext.Provider, {\n        value: newContext\n      }, _this.props.children);\n    });\n  };\n\n  return Customizer;\n}(React.Component);\n\nexport { Customizer };","map":{"version":3,"sources":["customizations/Customizer.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAS,cAAT,QAA+B,kBAA/B;AACA,SAAS,iBAAT,QAAsD,qBAAtD;AACA,SAAS,mBAAT,QAAoC,uBAApC;AAGA;;;;;;;;;;;;;AAaG;;AACH,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgC,EAAA,SAAA,CAAA,UAAA,EAAA,MAAA,CAAA;;AAAhC,WAAA,UAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AA0BU,IAAA,KAAA,CAAA,sBAAA,GAAyB,YAAA;AAAM,aAAA,KAAI,CAAJ,WAAA,EAAA;AAAkB,KAAjD;;;AACT;;AA1BQ,EAAA,UAAA,CAAA,SAAA,CAAA,iBAAA,GAAP,YAAA;AACE,IAAA,cAAc,CAAC,OAAf,CAAuB,KAAK,sBAA5B;AACD,GAFM;;AAIA,EAAA,UAAA,CAAA,SAAA,CAAA,oBAAA,GAAP,YAAA;AACE,IAAA,cAAc,CAAC,SAAf,CAAyB,KAAK,sBAA9B;AACD,GAFM;;AAIA,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACU,QAAA,gBAAA,GAAA,KAAA,KAAA,CAAA,gBAAA;AACR,WACE,KAAA,CAAA,aAAA,CAAC,iBAAiB,CAAC,QAAnB,EAA2B,IAA3B,EACG,UAAC,aAAD,EAAkC;AACjC,UAAI,UAAU,GAAG,mBAAmB,CAAC,KAAI,CAAC,KAAN,EAAa,aAAb,CAApC;;AAEA,UAAI,gBAAJ,EAAsB;AACpB,QAAA,UAAU,GAAG,gBAAgB,CAAC,UAAD,CAA7B;AACD;;AAED,aAAO,KAAA,CAAA,aAAA,CAAC,iBAAiB,CAAC,QAAnB,EAA2B;AAAC,QAAA,KAAK,EAAE;AAAR,OAA3B,EAAgD,KAAI,CAAC,KAAL,CAAW,QAA3D,CAAP;AACD,KATH,CADF;AAaD,GAfM;;AAkBT,SAAA,UAAA;AAAC,CA3BD,CAAgC,KAAK,CAAC,SAAtC,CAAA","sourcesContent":["import * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { CustomizerContext, ICustomizerContext } from './CustomizerContext';\nimport { mergeCustomizations } from './mergeCustomizations';\nimport { ICustomizerProps } from './Customizer.types';\n\n/**\n * The Customizer component allows for default props to be mixed into components which\n * are decorated with the customizable() decorator, or use the styled HOC. This enables\n * injection scenarios like:\n *\n * 1. render svg icons instead of the icon font within all buttons\n * 2. inject a custom theme object into a component\n *\n * Props are provided via the settings prop which should be one of the following:\n * - A json map which contains 1 or more name/value pairs representing injectable props.\n * - A function that receives the current settings and returns the new ones that apply to the scope\n *\n * @public\n */\nexport class Customizer extends React.Component<ICustomizerProps> {\n  public componentDidMount(): void {\n    Customizations.observe(this._onCustomizationChange);\n  }\n\n  public componentWillUnmount(): void {\n    Customizations.unobserve(this._onCustomizationChange);\n  }\n\n  public render(): React.ReactElement<{}> {\n    const { contextTransform } = this.props;\n    return (\n      <CustomizerContext.Consumer>\n        {(parentContext: ICustomizerContext) => {\n          let newContext = mergeCustomizations(this.props, parentContext);\n\n          if (contextTransform) {\n            newContext = contextTransform(newContext);\n          }\n\n          return <CustomizerContext.Provider value={newContext}>{this.props.children}</CustomizerContext.Provider>;\n        }}\n      </CustomizerContext.Consumer>\n    );\n  }\n\n  private _onCustomizationChange = () => this.forceUpdate();\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}