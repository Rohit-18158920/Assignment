{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { ComboBox } from './ComboBox';\nimport { List } from '../../List';\nimport { initializeComponentRef } from '../../Utilities';\n\nvar VirtualizedComboBox =\n/** @class */\nfunction (_super) {\n  __extends(VirtualizedComboBox, _super);\n\n  function VirtualizedComboBox(props) {\n    var _this = _super.call(this, props) || this;\n    /** The combo box element */\n\n\n    _this._comboBox = React.createRef();\n    /** The virtualized list element */\n\n    _this._list = React.createRef();\n\n    _this._onRenderList = function (props) {\n      var id = props.id,\n          onRenderItem = props.onRenderItem; // Render virtualized list\n\n      return React.createElement(List, {\n        componentRef: _this._list,\n        role: \"listbox\",\n        id: id + \"-list\",\n        \"aria-labelledby\": id + \"-label\",\n        items: props.options,\n        // eslint-disable-next-line react/jsx-no-bind\n        onRenderCell: onRenderItem ? function (item) {\n          return onRenderItem(item);\n        } : function () {\n          return null;\n        }\n      });\n    };\n\n    _this._onScrollToItem = function (itemIndex) {\n      // We are using the List component, call scrollToIndex\n      _this._list.current && _this._list.current.scrollToIndex(itemIndex);\n    };\n\n    initializeComponentRef(_this);\n    return _this;\n  }\n\n  Object.defineProperty(VirtualizedComboBox.prototype, \"selectedOptions\", {\n    /**\n     * All selected options\n     */\n    get: function () {\n      if (this._comboBox.current) {\n        return this._comboBox.current.selectedOptions;\n      }\n\n      return [];\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  VirtualizedComboBox.prototype.dismissMenu = function () {\n    if (this._comboBox.current) {\n      return this._comboBox.current.dismissMenu();\n    }\n  };\n\n  VirtualizedComboBox.prototype.focus = function (shouldOpenOnFocus, useFocusAsync) {\n    if (this._comboBox.current) {\n      this._comboBox.current.focus(shouldOpenOnFocus, useFocusAsync);\n\n      return true;\n    }\n\n    return false;\n  };\n\n  VirtualizedComboBox.prototype.render = function () {\n    return React.createElement(ComboBox, __assign({}, this.props, {\n      componentRef: this._comboBox,\n      onRenderList: this._onRenderList,\n      onScrollToItem: this._onScrollToItem\n    }));\n  };\n\n  return VirtualizedComboBox;\n}(React.Component);\n\nexport { VirtualizedComboBox };","map":{"version":3,"sources":["components/ComboBox/VirtualizedComboBox.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAS,QAAT,QAAyB,YAAzB;AAEA,SAAgB,IAAhB,QAA4B,YAA5B;AAEA,SAAS,sBAAT,QAAuC,iBAAvC;;AAEA,IAAA,mBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyC,EAAA,SAAA,CAAA,mBAAA,EAAA,MAAA,CAAA;;AAMvC,WAAA,mBAAA,CAAY,KAAZ,EAAiC;AAAjC,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,KAAN,KAAY,IADd;AALA;;;AACQ,IAAA,KAAA,CAAA,SAAA,GAAY,KAAK,CAAC,SAAN,EAAZ;AACR;;AACQ,IAAA,KAAA,CAAA,KAAA,GAAQ,KAAK,CAAC,SAAN,EAAR;;AA4CE,IAAA,KAAA,CAAA,aAAA,GAAgB,UAAC,KAAD,EAAsB;AACtC,UAAA,EAAA,GAAA,KAAA,CAAA,EAAA;AAAA,UAAI,YAAA,GAAA,KAAA,CAAA,YAAJ,CADsC,CAG9C;;AACA,aACE,KAAA,CAAA,aAAA,CAAC,IAAD,EAAK;AACH,QAAA,YAAY,EAAE,KAAI,CAAC,KADhB;AAEH,QAAA,IAAI,EAAC,SAFF;AAGH,QAAA,EAAE,EAAK,EAAE,GAAA,OAHN;AAGa,2BACI,EAAE,GAAA,QAJnB;AAKH,QAAA,KAAK,EAAE,KAAK,CAAC,OALV;AAMH;AACA,QAAA,YAAY,EAAE,YAAY,GAAG,UAAC,IAAD,EAAwB;AAAK,iBAAA,YAAY,CAAZ,IAAY,CAAZ;AAAkB,SAAlD,GAAqD,YAAA;AAAM,iBAAA,IAAA;AAAI;AAPtF,OAAL,CADF;AAWD,KAfS;;AAiBA,IAAA,KAAA,CAAA,eAAA,GAAkB,UAAC,SAAD,EAAkB;AAC5C;AACA,MAAA,KAAI,CAAC,KAAL,CAAW,OAAX,IAAsB,KAAI,CAAC,KAAL,CAAW,OAAX,CAAmB,aAAnB,CAAiC,SAAjC,CAAtB;AACD,KAHS;;AAxDR,IAAA,sBAAsB,CAAC,KAAD,CAAtB;;AACD;;AAKD,EAAA,MAAA,CAAA,cAAA,CAAW,mBAAA,CAAA,SAAX,EAAW,iBAAX,EAA0B;AAH1B;;AAEG;SACH,YAAA;AACE,UAAI,KAAK,SAAL,CAAe,OAAnB,EAA4B;AAC1B,eAAO,KAAK,SAAL,CAAe,OAAf,CAAuB,eAA9B;AACD;;AACD,aAAO,EAAP;AACD,KALyB;oBAAA;;AAAA,GAA1B;;AAOO,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAP,YAAA;AACE,QAAI,KAAK,SAAL,CAAe,OAAnB,EAA4B;AAC1B,aAAO,KAAK,SAAL,CAAe,OAAf,CAAuB,WAAvB,EAAP;AACD;AACF,GAJM;;AAMA,EAAA,mBAAA,CAAA,SAAA,CAAA,KAAA,GAAP,UAAa,iBAAb,EAA0C,aAA1C,EAAiE;AAC/D,QAAI,KAAK,SAAL,CAAe,OAAnB,EAA4B;AAC1B,WAAK,SAAL,CAAe,OAAf,CAAuB,KAAvB,CAA6B,iBAA7B,EAAgD,aAAhD;;AACA,aAAO,IAAP;AACD;;AAED,WAAO,KAAP;AACD,GAPM;;AASA,EAAA,mBAAA,CAAA,SAAA,CAAA,MAAA,GAAP,YAAA;AACE,WACE,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS,QAAA,CAAA,EAAA,EACH,KAAK,KADF,EACO;AACd,MAAA,YAAY,EAAE,KAAK,SADL;AAEd,MAAA,YAAY,EAAE,KAAK,aAFL;AAGd,MAAA,cAAc,EAAE,KAAK;AAHP,KADP,CAAT,CADF;AAQD,GATM;;AAgCT,SAAA,mBAAA;AAAC,CArED,CAAyC,KAAK,CAAC,SAA/C,CAAA","sourcesContent":["import * as React from 'react';\nimport { ComboBox } from './ComboBox';\nimport { IComboBoxProps, IComboBox, IComboBoxOption } from './ComboBox.types';\nimport { IList, List } from '../../List';\nimport { ISelectableOption } from '../../utilities/selectableOption/SelectableOption.types';\nimport { initializeComponentRef } from '../../Utilities';\n\nexport class VirtualizedComboBox extends React.Component<IComboBoxProps, {}> implements IComboBox {\n  /** The combo box element */\n  private _comboBox = React.createRef<IComboBox>();\n  /** The virtualized list element */\n  private _list = React.createRef<IList>();\n\n  constructor(props: IComboBoxProps) {\n    super(props);\n\n    initializeComponentRef(this);\n  }\n\n  /**\n   * All selected options\n   */\n  public get selectedOptions(): IComboBoxOption[] {\n    if (this._comboBox.current) {\n      return this._comboBox.current.selectedOptions;\n    }\n    return [];\n  }\n\n  public dismissMenu(): void {\n    if (this._comboBox.current) {\n      return this._comboBox.current.dismissMenu();\n    }\n  }\n\n  public focus(shouldOpenOnFocus?: boolean, useFocusAsync?: boolean) {\n    if (this._comboBox.current) {\n      this._comboBox.current.focus(shouldOpenOnFocus, useFocusAsync);\n      return true;\n    }\n\n    return false;\n  }\n\n  public render(): JSX.Element {\n    return (\n      <ComboBox\n        {...this.props}\n        componentRef={this._comboBox}\n        onRenderList={this._onRenderList}\n        onScrollToItem={this._onScrollToItem}\n      />\n    );\n  }\n\n  protected _onRenderList = (props: IComboBoxProps): JSX.Element => {\n    const { id, onRenderItem } = props;\n\n    // Render virtualized list\n    return (\n      <List\n        componentRef={this._list}\n        role=\"listbox\"\n        id={`${id}-list`}\n        aria-labelledby={`${id}-label`}\n        items={props.options}\n        // eslint-disable-next-line react/jsx-no-bind\n        onRenderCell={onRenderItem ? (item: ISelectableOption) => onRenderItem(item) : () => null}\n      />\n    );\n  };\n\n  protected _onScrollToItem = (itemIndex: number): void => {\n    // We are using the List component, call scrollToIndex\n    this._list.current && this._list.current.scrollToIndex(itemIndex);\n  };\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}