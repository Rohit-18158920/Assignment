{"ast":null,"code":"import * as React from 'react';\nimport { Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\n/**\n * Hook to get Customizations settings from Customizations singleton or CustomizerContext.\n * It will trigger component state update on settings change observed.\n */\n\nexport function useCustomizationSettings(properties, scopeName) {\n  var forceUpdate = useForceUpdate();\n  var customizations = React.useContext(CustomizerContext).customizations;\n  var inCustomizerContext = customizations.inCustomizerContext;\n  React.useEffect(function () {\n    if (!inCustomizerContext) {\n      Customizations.observe(forceUpdate);\n    }\n\n    return function () {\n      if (!inCustomizerContext) {\n        Customizations.unobserve(forceUpdate);\n      }\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps -- exclude forceUpdate\n  }, [inCustomizerContext]);\n  return Customizations.getSettings(properties, scopeName, customizations);\n}\n\nfunction useForceUpdate() {\n  var _a = React.useState(0),\n      setValue = _a[1];\n\n  return function () {\n    return setValue(function (value) {\n      return ++value;\n    });\n  };\n}","map":{"version":3,"sources":["customizations/useCustomizationSettings.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAZ,MAAuB,OAAvB;AACA,SAAoB,cAApB,QAA0C,kBAA1C;AACA,SAAS,iBAAT,QAAkC,qBAAlC;AAEA;;;AAGG;;AACH,OAAM,SAAU,wBAAV,CAAmC,UAAnC,EAAyD,SAAzD,EAA2E;AAC/E,MAAM,WAAW,GAAG,cAAc,EAAlC;AACQ,MAAA,cAAA,GAAA,KAAA,CAAA,UAAA,CAAA,iBAAA,EAAA,cAAA;AACA,MAAA,mBAAA,GAAA,cAAA,CAAA,mBAAA;AACR,EAAA,KAAK,CAAC,SAAN,CAAgB,YAAA;AACd,QAAI,CAAC,mBAAL,EAA0B;AACxB,MAAA,cAAc,CAAC,OAAf,CAAuB,WAAvB;AACD;;AACD,WAAO,YAAA;AACL,UAAI,CAAC,mBAAL,EAA0B;AACxB,QAAA,cAAc,CAAC,SAAf,CAAyB,WAAzB;AACD;AACF,KAJD,CAJc,CASd;AACD,GAVD,EAUG,CAAC,mBAAD,CAVH;AAYA,SAAO,cAAc,CAAC,WAAf,CAA2B,UAA3B,EAAuC,SAAvC,EAAkD,cAAlD,CAAP;AACD;;AAED,SAAS,cAAT,GAAuB;AACf,MAAA,EAAA,GAAA,KAAA,CAAA,QAAA,CAAA,CAAA,CAAA;AAAA,MAAG,QAAA,GAAA,EAAA,CAAA,CAAA,CAAH;;AACN,SAAO,YAAA;AAAM,WAAA,QAAQ,CAAC,UAAA,KAAA,EAAK;AAAI,aAAA,EAAA,KAAA;AAAlB,KAAQ,CAAR;AAA0B,GAAvC;AACD","sourcesContent":["import * as React from 'react';\nimport { ISettings, Customizations } from './Customizations';\nimport { CustomizerContext } from './CustomizerContext';\n\n/**\n * Hook to get Customizations settings from Customizations singleton or CustomizerContext.\n * It will trigger component state update on settings change observed.\n */\nexport function useCustomizationSettings(properties: string[], scopeName?: string): ISettings {\n  const forceUpdate = useForceUpdate();\n  const { customizations } = React.useContext(CustomizerContext);\n  const { inCustomizerContext } = customizations;\n  React.useEffect(() => {\n    if (!inCustomizerContext) {\n      Customizations.observe(forceUpdate);\n    }\n    return () => {\n      if (!inCustomizerContext) {\n        Customizations.unobserve(forceUpdate);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- exclude forceUpdate\n  }, [inCustomizerContext]);\n\n  return Customizations.getSettings(properties, scopeName, customizations);\n}\n\nfunction useForceUpdate() {\n  const [, setValue] = React.useState(0);\n  return () => setValue(value => ++value);\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}