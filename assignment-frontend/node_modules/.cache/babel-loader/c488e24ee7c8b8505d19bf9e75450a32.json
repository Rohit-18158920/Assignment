{"ast":null,"code":"import _classCallCheck from\"D:/personalWork/assignment-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/personalWork/assignment-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import jwtDecode from'jwt-decode';var AuthenticationService=/*#__PURE__*/function(){function AuthenticationService(){_classCallCheck(this,AuthenticationService);var getUserDetails=this.validateTokenId();this.userData=getUserDetails.user;}_createClass(AuthenticationService,[{key:\"validateTokenId\",value:function validateTokenId(){var token=sessionStorage.getItem('token');if(token!==null){var jwtDecoded=jwtDecode(token);var milis2renewal=Math.round(jwtDecoded.exp*1000-new Date().getTime()-30000);if(milis2renewal<0){sessionStorage.removeItem('token');return false;}return jwtDecoded;}return false;}},{key:\"logout\",value:function logout(){sessionStorage.removeItem('token');}}]);return AuthenticationService;}();export default new AuthenticationService();","map":{"version":3,"sources":["D:/personalWork/assignment-frontend/src/services/Authentication.Service.js"],"names":["jwtDecode","AuthenticationService","getUserDetails","validateTokenId","userData","user","token","sessionStorage","getItem","jwtDecoded","milis2renewal","Math","round","exp","Date","getTime","removeItem"],"mappings":"kTAAA,MAAOA,CAAAA,SAAP,KAAsB,YAAtB,C,GACMC,CAAAA,qB,yBACF,gCAAc,6CACV,GAAIC,CAAAA,cAAc,CAAG,KAAKC,eAAL,EAArB,CACA,KAAKC,QAAL,CAAgBF,cAAc,CAACG,IAA/B,CACH,C,iEAED,0BAAkB,CACd,GAAIC,CAAAA,KAAK,CAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAZ,CACA,GAAIF,KAAK,GAAK,IAAd,CAAoB,CAChB,GAAMG,CAAAA,UAAU,CAAGT,SAAS,CAACM,KAAD,CAA5B,CACA,GAAMI,CAAAA,aAAa,CAAGC,IAAI,CAACC,KAAL,CAAWH,UAAU,CAACI,GAAX,CAAiB,IAAjB,CAAyB,GAAIC,CAAAA,IAAJ,EAAD,CAAaC,OAAb,EAAxB,CAAiD,KAA5D,CAAtB,CACA,GAAIL,aAAa,CAAG,CAApB,CAAuB,CACnBH,cAAc,CAACS,UAAf,CAA0B,OAA1B,EACA,MAAO,MAAP,CACH,CACD,MAAOP,CAAAA,UAAP,CACH,CACD,MAAO,MAAP,CACH,C,sBAED,iBAAS,CACLF,cAAc,CAACS,UAAf,CAA0B,OAA1B,EACH,C,qCAIL,cAAe,IAAIf,CAAAA,qBAAJ,EAAf","sourcesContent":["import jwtDecode from 'jwt-decode';\r\nclass AuthenticationService {\r\n    constructor() {\r\n        let getUserDetails = this.validateTokenId()\r\n        this.userData = getUserDetails.user\r\n    }\r\n\r\n    validateTokenId() {\r\n        let token = sessionStorage.getItem('token');\r\n        if (token !== null) {\r\n            const jwtDecoded = jwtDecode(token);\r\n            const milis2renewal = Math.round(jwtDecoded.exp * 1000 - (new Date()).getTime() - 30000);\r\n            if (milis2renewal < 0) {\r\n                sessionStorage.removeItem('token')\r\n                return false;\r\n            }\r\n            return jwtDecoded;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    logout() {\r\n        sessionStorage.removeItem('token')\r\n    }\r\n\r\n}\r\n\r\nexport default new AuthenticationService();\r\n\r\n"]},"metadata":{},"sourceType":"module"}